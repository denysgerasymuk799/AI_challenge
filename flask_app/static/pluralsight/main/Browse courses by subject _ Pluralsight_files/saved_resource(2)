(function(){if(typeof window.QSI==='undefined'){window.QSI={};}
var tempQSIConfig={"hostedJSLocation":"https://siteintercept.qualtrics.com/dxjsmodule/","zoneId":"ZN_6QzQ6cAauCudEsR"};if(typeof window.QSI.config!=='undefined'&&typeof window.QSI.config==='object'){for(var attrname in tempQSIConfig){window.QSI.config[attrname]=tempQSIConfig[attrname];}}else{window.QSI.config=tempQSIConfig;}
window.QSI.overrides={"baseURL":"https://siteintercept.qualtrics.com"};window.QSI.shouldStripQueryParamsInQLoc=false;})();try{!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){e.exports=i(11)},function(e,t){QSI.history&&!window.QTest||(QSI.historyStorage={historySessionName:"QSI_HistorySession",get useCookie(){return"sessionStorage"!==QSI.historyStorageType},get limit(){return this.useCookie?2e3:1e4},getHistorySessionData:function(){return this.useCookie?QSI.cookie.get(this.historySessionName):sessionStorage.getItem(this.historySessionName)},eraseHistorySessionData:function(){this.useCookie?QSI.cookie.erase(this.historySessionName):sessionStorage.removeItem(this.historySessionName)},setHistorySessionData:function(e){this.useCookie?QSI.cookie.set(this.historySessionName,e,0):sessionStorage.setItem(this.historySessionName,e)}},QSI.history={historyStorage:QSI.historyStorage,logVisit:function(){this.logCurrentURL(),this.logSearch(),this.startFocusTracking(),this.logReferrer()},startFocusTracking:function(){if(!this.started)try{this.started=!0,this.focusTime=this.getFocusTimeFromBrowserStorage(),this.blurTime=this.getBlurTimeFromBrowserStorage();var e=this;setInterval(function(){try{e.focused?e.focusTime+=1:e.blurTime+=1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},1e3);var t,i=function(){try{e.focused=!0}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}};i(),QSI.util.observe(window,"focus",i),QSI.util.observe(window,"blur",function(){try{e.focused=!1}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),t=QSI.Browser.isMobile?"pagehide":"unload",QSI.util.observe(window,t,function(){try{QSI.profile.set("History","BlurTime",e.blurTime),QSI.profile.set("History","FocusTime",e.focusTime)}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}})}catch(e){QSI.dbg.e(e)}},logSite:function(e,t){var i,n=this.historyStorage.getHistorySessionData();if(n){var r=(n=decodeURIComponent(n)).split("|");i=r[r.length-1].split("~")[0],n+="|"}else n="",i="";e!==i&&(n+=e+"~"+t,this.writeHistory(n))},writeHistory:function(e,t){if(null!=t&&t<=0)this.historyStorage.eraseHistorySessionData();else{t=t||QSI.historyStorageSize||QSI.global.maxCookieSize||this.historyStorage.limit;var i=encodeURIComponent(e),n=this.limitSize(i,t);try{this.historyStorage.setHistorySessionData(n)}catch(i){e=decodeURIComponent(n),this.writeHistory(e,t-500)}}},limitSize:function(e,t){if(!e.length)return e;for(t=t||this.historyStorage.limit;e.length>t;){var i=decodeURIComponent(e).split("|");i.splice(0,1),e=i.join("|"),e=encodeURIComponent(e)}return e},get:function(){var e=this.historyStorage.getHistorySessionData();return e||(e=[]),e=this.limitSize(e),decodeURIComponent(e)},logCurrentURL:function(){var e=window.location.href,t=1*new Date;this.logSite(e,t)},getReferrer:function(){return document.referrer},logSearch:function(){var e,t,i=this.getReferrer();if(i.search(/(google.com)|(bing.com)|(yahoo.com)/)>=0){var n="";i.search(/(google.com)|(bing.com)/)>=0?(e=/q=(.*?)\&/,(t=i.match(e))&&t.length&&t[1]&&(n=t[1])):i.search(/yahoo.com/)>=0&&(e=/p=(.*?)\&/,(t=i.match(e))&&t.length&&t[1]&&(n=t[1])),n=decodeURIComponent(n),QSI.profile.set("History","SearchTerm",n)}},logReferrer:function(){var e=this.getReferrer();e&&(QSI.util.build("a",{href:e}).hostname!==document.location.host&&QSI.profile.set("History","SiteReferrer",e),QSI.profile.set("History","PageReferrer",e))},logIntercept:function(e,t){t&&this.logActionSet(t)},logActionSet:function(e){if(e.search("AS_")>=0){var t=e,i=1*new Date;QSI.profile.set("ActionSetHistory",t,i),QSI.profile.set("ActionSetHistory",t,i,1)}},logSurvey:function(e,t){QSI.profile.set("QualtricsSurveyHistory",e,t,1)},getSiteReferrer:function(){return QSI.profile.get("History","SiteReferrer")},getPageReferrer:function(){return QSI.profile.get("History","PageReferrer")},getSearch:function(){var e=QSI.profile.get("History","SearchTerm");return e||(e=""),e},getTimeOnSite:function(){var e=this.focusTime;return e+this.blurTime+"|"+e},getFocusTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","FocusTime");return e||(e=0),e},getBlurTimeFromBrowserStorage:function(){var e=QSI.profile.get("History","BlurTime");return e||(e=0),e},getActionSetHistory:function(e,t){var i=QSI.profile.get("ActionSetHistory",e,t);return i||(i=0),i},getPageCount:function(){var e,t,i=this.historyStorage.getHistorySessionData(),n=0,r=[];if(i){var o=(i=decodeURIComponent(i)).split("|");for(t=o.length,e=0;e<t;e++)r.push(o[e].split("~")[0]);var a={};for(t=r.length,e=0;e<t;e++)a[r[e]]||(n++,a[r[e]]=!0)}return{unique:n,total:r.length}}})},function(e,t){QSI.profile||(QSI.profile={namespace:"QSI_",set:function(e,t,i,n){if(void 0===e||void 0===t||void 0===i)throw new Error("To few arguments");try{var r=this.getStorage(n),o=this.namespace+e,a=r.getItem(o);(a=a?JSON.parse(a):{})[t]=i,a=JSON.stringify(a),r.setItem(o,a)}catch(e){QSI.dbg.e("error setting profile item"),QSI.dbg.e(e)}},get:function(e,t,i){var n=this.getStorage(i),r=this.namespace+e,o=n.getItem(r);return o?(o=JSON.parse(o),t?o[t]?o[t]:null:o):null},erase:function(e,t,i){var n=this.getStorage(i),r=this.namespace+e;if(t){var o=JSON.parse(n.getItem(r));delete o[t],o=JSON.stringify(o),n.setItem(r,o)}else n.removeItem(r)},getStorage:function(e){if(this.hasSessionStorage())return e?localStorage:sessionStorage;if(QSI.UserDataStorage){var t=QSI.UserDataStorage;return e?t.isPermanent(!0):t.isPermanent(!1),t}return QSI.CookieStorage},hasSessionStorage:function(){var e="qualtricssessionstoragetestkey",t=window.sessionStorage;try{return t.setItem(e,e),t.removeItem(e),!0}catch(e){return!1}}})},function(e,t){void 0===QSI.util&&(QSI.util={$:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},forOwn:function(e,t){if(e&&e instanceof Object&&this.isFunction(t))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)},build:function(e,t,i){var n=document.createElement(e);if(t){var r=this;QSI.util.forOwn(t,function(e,i){switch(i){case"style":r.setStyle(n,t[i]);break;case"className":n.className=t[i];break;case"id":n.id=t[i];break;default:n.setAttribute(i,t[i])}})}if(i)if(QSI.util.isString(i))"style"===e&&n.styleSheet?n.styleSheet.cssText=i:n.appendChild(document.createTextNode(String(i)));else if(QSI.util.isArray(i))for(var o=0,a=i.length;o<a;o++){var s=i[o];"string"==typeof s||"number"==typeof s?n.appendChild(document.createTextNode(String(s))):s&&s.nodeType&&n.appendChild(s)}return n},setStyle:function(e,t){QSI.util.forOwn(t,function(i,n){try{e.style[n]=t[n]}catch(e){QSI.dbg.e(e)}})},isString:function(e){return"string"==typeof e},isArray:function(e){return"object"==typeof e&&e instanceof Array},getQueryParam:function(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===i?"":i[1]},observe:function(e,t,i,n){this.obs=this.obs||[],e&&(this.obs.push({el:e,e:t,f:i,preventRemove:n||!1}),e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent?e.attachEvent("on"+t,i):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=i))},stopObserving:function(e,t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent?e.detachEvent("on"+t,i):e["on"+this.capFirst(t)]&&(e["on"+this.capFirst(t)]=null)},removeObservers:function(){var e=this;this.each(this.obs||[],function(t){t.preventRemove||e.stopObserving(t.el,t.e,t.f)})},remove:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},isFunction:function(e){return"function"==typeof e||!1},capFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},each:function(e,t){var i=e.length;if(i)for(var n=0;n<i;n++)t(e[n],n)}})},function(e,t){QSI.API&&!window.QTest||(QSI.API={load:function(){function e(e){try{if(QSI.reg||this.unloading)return void e.reject();void 0===window.QSI&&(window.QSI={}),void 0===QSI.reg&&(QSI.reg={}),void 0===QSI.ed&&(QSI.ed={}),void 0===QSI.reqID&&(QSI.reqID={}),void 0===QSI.Request&&(QSI.Request={}),void 0===QSI.styleElements&&(QSI.styleElements=[]),QSI.util.forOwn(QSI.reqID,function(t,i){var n={loadingFromAPI:!0};n.id=i,"Editing"===QSI.version&&(n.version="0"),void 0!==QSI.global.clientVersion&&null!==QSI.global.clientVersion&&(n.Q_CLIENTVERSION=QSI.global.clientVersion),void 0!==QSI.global.clientType&&null!==QSI.global.clientType&&(n.Q_CLIENTTYPE=QSI.global.clientType,void 0!==QSI.clientTypeVariant&&(n.Q_CLIENTTYPE+=QSI.clientTypeVariant)),0===i.search(/ZN/)?n.ZoneID=i:n.InterceptID=i,QSI.isDebug&&(n.Q_DEBUG=null),n.deferred=e,QSI.Orchestrator.load(n)})}catch(e){QSI.dbg.e(e)}}try{var t=QSI.Orchestrator.Deferred(),i=t.promise();return QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0?QSI.PendingQueue.push(e.bind(this,t)):e.bind(this,t)(),i}catch(e){QSI.dbg.e(e)}},unload:function(){try{if(QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0)return void QSI.PendingQueue.push(QSI.API.unload);if(this.unloading=!0,QSI.reg&&(QSI.util.forOwn(QSI.reg,function(e,t){QSI.reg[t].remove()}),QSI.util.removeObservers()),QSI.debug&&(QSI.util.remove(QSI.util.$("QSI_Debug")),QSI.debuggerHasDisplayed=!1),QSI.styleElements)for(var e=QSI.styleElements,t=0;t<e.length;t++)QSI.util.remove(e[t]);QSI.reg=void 0,QSI.Request=void 0,QSI.styleElements=void 0,this.unloading=!1}catch(e){QSI.dbg.e(e)}},run:function(){try{if(QSI.PendingQueue||(QSI.PendingQueue=[]),QSI.LoadingState&&QSI.LoadingState.length>0)return void QSI.PendingQueue.push(QSI.API.run);QSI.InterceptsRan||void 0===QSI.reg||QSI.RunIntercepts(null,!0)}catch(e){QSI.dbg.e(e)}},Events:{increment:function(e){try{QSI.EventTracker.track(e)}catch(e){QSI.dbg.e(e)}},count:function(e){try{return QSI.EventTracker.get(e)}catch(e){QSI.dbg.e(e)}},push:function(e){try{QSI.EventTracker.track(e)}catch(e){QSI.dbg.e(e)}}}})},function(e,t){QSI.ContactFrequency={contactFrequencyRequestTimeout:1e4,contactFrequencyCheckResults:{},contactFrequencyCheckStates:{CAN_CONTACT:"CAN_CONTACT",DO_NOT_CONTACT:"DO_NOT_CONTACT",NOT_CHECKED:"NOT_CHECKED"},checkContactFrequencyRules:function(e,t){var i=QSI.Orchestrator.Deferred(),n={};return QSI.util.forOwn(e,function(e,i){if(this.contactFrequencyCheckResults[i]={status:this.contactFrequencyCheckStates.NOT_CHECKED,brandId:null,surveyId:null},null!==e.Targeting.Decision.ActionSetID){var r=e.Intercept;if(!QSI.util.shouldPreventRepeatedDisplay(i,r.DisplayOptions)&&this.shouldCheckContactFrequency(r)){var o=this.getIQDirectorySettings(r);if(o){var a=this.getTargetSurveyId(r,e.Targeting);a&&(o.surveyId=a,this.contactFrequencyCheckResults[i].surveyId=a),this.contactFrequencyCheckResults[i].brandId=t,o.brandId=t,n[i]=o,this.contactFrequencyCheckResults[i].status=this.contactFrequencyCheckStates.DO_NOT_CONTACT}else this.contactFrequencyCheckResults[i].status=this.contactFrequencyCheckStates.DO_NOT_CONTACT}}}.bind(this)),0!==Object.keys(n).length?this.sendContactFrequencyRequest(n,i):i.resolve(),i.promise()},shouldCheckContactFrequency:function(e){return e.DisplayOptions&&e.DisplayOptions.useContactFrequencyRules},getIQDirectorySettings:function(e){if(!e.DisplayOptions)return null;var t,i=e.DisplayOptions;if(QSI.global.featureFlags["DX.ContactFrequencyV2"]?QSI.config&&QSI.config.externalReference&&(t=QSI.config.externalReference):t=this.resolveContactFrequencyExternalReference(i.contactFrequencyRefLocator,i.contactFrequencyRefExpression),!t)return QSI.dbg.e("Could not retrieve external reference ID for Contact Frequency Check"),null;if(!("string"==typeof t||t instanceof String))return QSI.dbg.e("External reference ID must be a string for Contact Frequency Check"),null;var n=i.contactFrequencyDirectoryID;if(!n)return QSI.dbg.e("Missing directoryId for Contact Frequency Check"),null;var r=i.contactFrequencyUserID;return r?{extRef:t,directoryId:n,userId:r}:(QSI.dbg.e("Missing User Id for Contact Frequency Check"),null)},getTargetSurveyId:function(e,t){if(!t.Decision||!t.Decision.ActionSetID)return null;var i=t.Decision.ActionSetID;return e.ActionSets&&e.ActionSets[i]&&e.ActionSets[i].Target&&"Survey"===e.ActionSets[i].Target.Type?e.ActionSets[i].Target.PrimaryElement:null},resolveContactFrequencyExternalReference:function(e,t){if(!t)return QSI.dbg.e("No reference expression used for contact frequency check"),null;switch(e){case"JavaScript":return QSI.EmbeddedData.getJavaScriptValue(t.expression);case"Cookie":return QSI.cookie.get(t.expression);default:return QSI.dbg.e("Reference locator used for contact frequency check is unsupported:"+e),null}},sendContactFrequencyRequest:function(e,t){var i="https://"+QSI.global.brandDC+"/dx-iqd-proxy/check-frequency-rules";return QSI.LatencyLog.startComponentTimer(QSI.LatencyLog.components.CONTACT_FREQUENCY),void QSI.util.sendHttpRequest({type:"POST",url:i,header:{"Content-type":"application/json"},data:JSON.stringify(e),successCallback:function(e){try{var i;if(e.response&&(i=JSON.parse(e.response)),"object"!=typeof i)throw new Error("ContactFrequency check came back with invalid response: "+results);QSI.util.forOwn(i,function(e,t){null!==e?!0===e.passesFrequencyRules&&(this.contactFrequencyCheckResults[t].status=this.contactFrequencyCheckStates.CAN_CONTACT,this.contactFrequencyCheckResults[t].contactId=e.contactId):QSI.dbg.e("ContactFrequency check for intercept:"+t+" errored; defaulting to no show")}.bind(this))}catch(e){QSI.dbg.e(e)}finally{QSI.LatencyLog.endComponentTimer(QSI.LatencyLog.components.CONTACT_FREQUENCY),t.resolve()}}.bind(this),errorCallback:function(e){var n="Call to ContactFrequency endpoint: "+i+" failed.";e.status&&(n=n+" Status:"+e.status);e.response&&(n=n+" Response:"+e.response);QSI.dbg.e(n),QSI.LatencyLog.endComponentTimer(QSI.LatencyLog.components.CONTACT_FREQUENCY),t.resolve()}.bind(this),timeout:this.contactFrequencyRequestTimeout,timeoutCallback:function(){QSI.dbg.e("ContactFrequency check POST request to:"+i+" timed out"),QSI.LatencyLog.endComponentTimer(QSI.LatencyLog.components.CONTACT_FREQUENCY),t.resolve()}})},recordContactFrequencyRequest:function(e){var t="https://"+QSI.global.brandDC+"/dx-iqd-proxy/record-contact";return void QSI.util.sendHttpRequest({type:"POST",url:t,header:{"Content-type":"application/json"},data:JSON.stringify(e),errorCallback:function(e){var i="Call to ContactFrequency endpoint: "+t+" failed.";e.status&&(i=i+" Status:"+e.status);e.response&&(i=i+" Response:"+e.response);QSI.dbg.e(i)}.bind(this),timeout:this.contactFrequencyRequestTimeout,timeoutCallback:function(){QSI.dbg.e("ContactFrequency record POST request to:"+t+" timed out")}})}}},function(e,t){QSI.AssetManager={promiseFetch:function(e,t,i){var n=QSI.Orchestrator.Deferred(),r=new XMLHttpRequest;return r.open(e,t,!0),r.withCredentials=!0,"POST"===e&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n.resolve(r.responseText):n.reject(r.responseText))},r.send(i),n.promise()},generateDefinitionRequestURL:function(e,t,i,n){var r=QSI.baseURL+"Asset.php?",o=[];if(t=t||i.version,o.push("Module="+e),o.push("Version="+t),null!=n&&o.push("Q_InterceptID="+n),null===i.Q_NOCACHE&&o.push("Q_NOCACHE"),QSI.CORSOrigin&&o.push("Q_ORIGIN="+QSI.CORSOrigin),void 0!==i.Q_CLIENTVERSION&&null!==i.Q_CLIENTVERSION&&o.push("Q_CLIENTVERSION="+i.Q_CLIENTVERSION),void 0!==i.Q_CLIENTTYPE&&null!==i.Q_CLIENTTYPE){var a="Q_CLIENTTYPE="+i.Q_CLIENTTYPE;o.push(a)}return r+=o.join("&")},loadDefinition:function(e,t){var i=QSI.Orchestrator.Deferred(),n=new XMLHttpRequest;return n.open("GET",e,!0),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status)try{var e=JSON.parse(n.responseText);e.Error?i.reject(e):(t(e),i.resolve(n.responseText))}catch(e){i.reject(n.responseText)}else i.reject(n.responseText)},n.send(),i.promise()},promiseLoadIntercept:function(e,t,i,n){var r=t.InterceptID,o=QSI.AssetManager.generateDefinitionRequestURL(r,t.InterceptRevision,i);return n.startComponentTimer("AssetDefinition-"+r),QSI.AssetManager.loadDefinition(o,function(t){n.endComponentTimer("AssetDefinition-"+r),QSI.Request[e].Intercepts[r].Intercept=t.InterceptDefinition})},promiseLoadCreative:function(e,t,i,n){var r=t.Decision.Creative.ID;if("CR_NoCreative"!==r){var o=QSI.AssetManager.generateDefinitionRequestURL(r,t.Decision.Creative.Revision,i,t.InterceptID);return n.startComponentTimer("AssetDefinition-"+r),QSI.AssetManager.loadDefinition(o,function(i){n.endComponentTimer("AssetDefinition-"+r),QSI.util.isLegacyCreative(i.CreativeDefinition.Type)&&(i.CreativeDefinition=QSI.AssetManager.sortCreativeDefinition(i.CreativeDefinition)),QSI.Request[e].Intercepts[t.InterceptID].Creative=i.CreativeDefinition})}return QSI.Request[e].Intercepts[t.InterceptID].Creative=null,QSI.Orchestrator.Deferred().resolve(null)},promiseLoadPopUnderTarget:function(e,t,i){var n=QSI.AssetManager.generateDefinitionRequestURL(t.Decision.PopUnderTarget.ID,t.Decision.PopUnderTarget.Revision,i,t.InterceptID);return QSI.AssetManager.loadDefinition(n,function(i){QSI.Request[e].Intercepts[t.InterceptID].PopUnderTarget=i.CreativeDefinition})},promiseLoadScript:function(e,t,i,n){var r,o=e+":"+QSI.global.clientVersion;if(-1!==i.global.alreadyFetchedJSModules.indexOf(o))return n.markComponentAlreadyFetched("JSModule-"+e),(r=QSI.Orchestrator.Deferred()).resolve(),r.promise();r=QSI.Orchestrator.Deferred();var a=document.createElement("script");a.src=QSI.global.hostedJSLocation+e+"Module.js?";var s=[];return void 0!==QSI.Orchestrator&&void 0!==QSI.Orchestrator.getClientVersionQueryString&&s.push(QSI.Orchestrator.getClientVersionQueryString()),(-1!==window.location.href.indexOf("Q_DEBUG")||QSI.config.debug)&&s.push("Q_DEBUG=true"),a.src+=s.join("&"),a.defer=!0,a.addEventListener("load",function(){try{!0===QSI.wrongModuleVersionRequested&&(r.reject(),QSI.dbg.e("Script: "+e+" failed to load because an unavailable version ("+t+") was requested.")),i.global.alreadyFetchedJSModules.push(o),n.endComponentTimer("JSModule-"+e),r.resolve()}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}},!1),a.addEventListener("error",function(){try{r.reject(),QSI.dbg.e("Script: "+e+" failed to load.")}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}}),n.startComponentTimer("JSModule-"+e),document.body.appendChild(a),r.promise()},sortCreativeDefinition:function(e){if(e&&e.Options&&e.Options.elements&&e.Options.elements.Elements){var t=e.Options.elements.Elements;t=QSI.util.stableSort(t,function(e,t){return Number(e.style.zIndex)<Number(t.style.zIndex)?-1:Number(e.style.zIndex)>Number(t.style.zIndex)?1:0});for(var i=0;i<t.length;i++)t[i].style&&t[i].style.zIndex&&(t[i].style.zIndex=QSI.global.currentZIndex++);return t=QSI.util.stableSort(t,function(e,t){return Number(e.position.left)<Number(t.position.left)?-1:Number(e.position.left)>Number(t.position.left)?1:0}),t=QSI.util.stableSort(t,function(e,t){return Number(e.position.top)<Number(t.position.top)?-1:Number(e.position.top)>Number(t.position.top)?1:0}),e.Options.elements.Elements=t,e}return e}}},function(e,t){QSI.CreativeManager={isCreativeSupported:function(e){return!!QSI.CreativeManager["run"+e]},runEmpty:function(e){var t;t=new QSI.Empty({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.EMPTY}),QSI.reg[e.interceptID]=t},runEmbeddedFeedback:function(e){var t=QSI.EmbeddedFeedback.Components[e.creative.Type];QSI.EmbeddedFeedback.renderEmbeddedFeedback(e.creative.options,t)},runWebResponsiveDialog:function(e){var t,i,n,r;t=e.creative.Type,i=e.creative.Options.Layout,n=QSI.BuildResponsiveElementModule.PARENT_CONTAINER_CLASS,r=new QSI.WebResponsive[t][i]({requestId:e.id,id:e.interceptID,type:t,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,hasCreativeEmbeddedTarget:!!e.creative.Options.SizeAndStyle.UseEmbeddedTarget,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,elements:e.creative.Options,displayOptions:e.creative.Options.displayOptions,resetStyle:QSI.CreativeManager.Utilities.getWebResponsiveResetStyle(n)}),QSI.reg[e.interceptID]=r},runFeedbackButton:function(e){var t,i;t=e.creative.Type,i=new QSI.FeedbackButton({requestId:e.id,id:e.interceptID,type:t,target:e.decision.Target,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,elements:e.creative.Options,resetStyle:QSI.CreativeManager.Utilities.getWebResponsiveResetStyle("QSIFeedbackButton")}),QSI.reg[e.interceptID]=i},runFeedbackLink:function(e){var t;t=new QSI.FeedbackLink({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.FEEDBACK_LINK,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,insertionLocation:e.actionSet.ActionOptions.displayElement?e.actionSet.ActionOptions.displayElement:e.id,displayOptions:e.creative.Options,resetStyle:QSI.CreativeManager.Utilities.getResetStyle("QSIFeedbackLink")}),QSI.reg[e.interceptID]=t},runHTTPRedirect:function(e){var t;QSI.global.isHostedJS()?QSI.dbg.c("Creative type '"+QSI.util.creativeTypes.HTTP_REDIRECT+"' is not supported."):(t=new QSI.HTTPRedirect({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.HTTP_REDIRECT,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions}),QSI.reg[e.interceptID]=t)},runIFrame:function(e){var t;t=new QSI.IFrame({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.IFRAME,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,iframeOptions:e.creative.Options,insertionLocation:e.actionSet.ActionOptions.displayElement?e.actionSet.ActionOptions.displayElement:e.id}),QSI.reg[e.interceptID]=t},runInfoBar:function(e){!function(){var t={requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.INFO_BAR,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,displayOptions:e.creative.Options.displayOptions};e.creative.Options.elements&&(t.elements=e.creative.Options.elements,t.resetStyle=QSI.CreativeManager.Utilities.getResetStyle("QSIInfoBar"));var i=new QSI.InfoBar(t);QSI.reg[e.interceptID]=i}()},runLink:function(e){var t,i;t=QSI.CreativeManager.Utilities.parsePipedText(e.creative.Options.linkText),i=new QSI.Link({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.LINK,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,text:e.creative.Options.linkText,insertionLocation:e.actionSet.ActionOptions.displayElement?e.actionSet.ActionOptions.displayElement:e.id,locators:t&&t.length>0?t:null}),QSI.reg[e.interceptID]=i},runNoCreative:function(e){var t;t=new QSI.NoCreative({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.NO_CREATIVE,actionOptions:e.actionSet.ActionOptions,interceptDisplayOptions:e.intercept.DisplayOptions}),QSI.reg[e.interceptID]=t},runPopOver:function(e){var t;t=new QSI.PopOver({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.POP_OVER,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,hasCreativeEmbeddedTarget:QSI.CreativeManager.Utilities.hasCreativeEmbeddedTarget(e.creative),impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,elements:e.creative.Options.elements,displayOptions:e.creative.Options.displayOptions,resetStyle:QSI.CreativeManager.Utilities.getResetStyle("QSIPopOver")}),QSI.reg[e.interceptID]=t},runPopUnder:function(e){!function(){if(!("Chrome"===QSI.Browser.name&&QSI.Browser.version>29)){var t=e.creative.Options,i={requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.POP_UNDER,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions};if(e.creative.Options.elements){i.elements=e.creative.Options.elements;var n="body { background-color: "+t.baseElement.style.backgroundColor+"; } .QSIPopUnder .close { color: #000000; text-decoration: none; } ";i.resetStyle=n+QSI.CreativeManager.Utilities.getResetStyle("QSIPopUnder"),t.width=t.baseElement.style.width,t.height=t.baseElement.style.height}else i.locators=QSI.CreativeManager.Utilities.parsePipedText(null);t.helperScriptSrc=QSI.baseURL+"Orchestrator.php?InterceptID="+e.interceptID+"&Q_Type=PopUnderHelper";var r={onPopForwardShowTarget:t.showTargetOnPopForward,showOnPageChange:t.showOnPageChange,showOnSiteExit:t.showOnSiteExit,checkThreshold:3,watchInterval:1e3,targetWidth:e.actionSet.ActionOptions.targetWidth,targetHeight:e.actionSet.ActionOptions.targetHeight,targetFullScreen:e.actionSet.ActionOptions.targetFullScreen,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID})};i.popunderOptions=t,i.popunderHelperOptions=r;var o=new QSI.PopUnder(i);QSI.reg[e.interceptID]=o}}()},runPopUnderHelper:function(e){QualtricsSI[e.interceptID].popunderCheckThreshold=null,QualtricsSI[e.interceptID].popunderWatchInterval=null,QualtricsSI.PopunderWatcherModule.startWatching(e.interceptID)},runPopUp:function(e){var t;t=new QSI.PopUp({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.POP_UP,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,creativeOptions:e.creative.Options}),QSI.reg[e.interceptID]=t},runRelay:function(e){var t;t=new QSI.Relay({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.RELAY,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,elements:e.creative.Options.elements,containerElement:e.creative.Options.baseElement,displayOptions:e.creative.Options.displayOptions,resetStyle:QSI.CreativeManager.Utilities.getResetStyle("QSIRelay")}),QSI.reg[e.interceptID]=t},runSlider:function(e){var t;t=new QSI.Slider({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.SLIDER,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,hasCreativeEmbeddedTarget:QSI.CreativeManager.Utilities.hasCreativeEmbeddedTarget(e.creative),impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,elements:e.creative.Options.elements,displayOptions:e.creative.Options.displayOptions,resetStyle:QSI.CreativeManager.Utilities.getResetStyle("QSISlider")}),QSI.reg[e.interceptID]=t},runSocialMedia:function(e){!function(){if(QSI.global.isHostedJS())QSI.dbg.c("Creative type '"+QSI.util.creativeTypes.SOCIAL_MEDIA+"' is not supported.");else{var t=new QSI.SocialMedia({requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.SOCIAL_MEDIA,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,buttons:e.creative.Options.buttons,buttonStyles:QSI.CreativeManager.SocialMediaHelper.getButtonStyles(e.creative),displayOptions:e.creative.Options.displayOptions,insertionLocation:e.actionSet.ActionOptions.displayElement?e.actionSet.ActionOptions.displayElement:e.id});QSI.reg[e.interceptID]=t}}()},runUserDefinedHTML:function(e){!function(){var t={requestId:e.id,id:e.interceptID,type:QSI.util.creativeTypes.USER_DEFINED_HTML,targetURL:e.decision.Target.OriginalURL,targetURLOrigin:e.decision.Target.OriginalURLOrigin,targetURLType:e.decision.Target.Type,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),clickURL:QSI.CreativeManager.Utilities.getClickURL({interceptID:e.interceptID,creativeID:e.decision.Creative.ID,asid:e.decision.ActionSetID}),interceptDisplayOptions:e.intercept.DisplayOptions,actionOptions:e.actionSet.ActionOptions,displayOptions:e.creative.Options.displayOptions,insertionLocation:e.actionSet.ActionOptions.displayElement?e.actionSet.ActionOptions.displayElement:e.id};if(e.creative.Options.elements)t.elements=e.creative.Options.elements,t.resetStyle=QSI.CreativeManager.Utilities.getResetStyle("QSIUserDefinedHTML");else{t.html=e.creative.Options.html,t.size=e.creative.Options.size;var i=QSI.CreativeManager.Utilities.parsePipedText(e.creative.Options.html);i&&i.length>0&&(t.locators=i)}var n=new QSI.UserDefinedHTML(t);QSI.reg[e.interceptID]=n}()}}},function(e,t){QSI.CreativeManager.SocialMediaHelper={getButtonStyles:function(e){var t=e.Options.displayOptions.size;e.Options.displayOptions.useWidget&&(t="Large"===t?"80px":"");var i=QSI.CreativeManager.SocialMediaHelper.getThemeStyles(e),n=QSI.CreativeManager.SocialMediaHelper.getPadding(t),r=QSI.CreativeManager.SocialMediaHelper.getBoxShadow(e,t),o=QSI.CreativeManager.SocialMediaHelper.getWidth(e,t),a=".QSI_SocialMediaButton { float: left; cursor: pointer; background: "+i.background+"; border-bottom: "+i.border+"; border-right: "+i.border+"; border-top: "+i.highlight+"; border-left: "+i.highlight+"; } #QSI_SocialMediaContainer { border-top: "+i.border+"; border-left: "+i.border+"; box-shadow: "+r.shadowOutset+"; border-radius: "+r.borderRadius+"; } ";return e.Options.displayOptions.useWidget?(a+=QSI.CreativeManager.SocialMediaHelper.getWidgetStyles(e,t),"Large"===t&&(a+="#QSI_SocialMediaContainer { width: "+o+"; } ")):a+="#QSI_SocialMediaContainer { width: "+o+"; } .QSI_SocialMediaButton { padding: "+n+"; width: "+t+"; height: "+t+"; } ",1===QSI.CreativeManager.SocialMediaHelper.getMaxCols(e)?a+=".QSI_First .QSI_SocialMediaButton { border-radius: "+r.firstBorderRadius+"; } .QSI_Last .QSI_SocialMediaButton { border-radius: "+r.lastBorderRadius+"; } ":a+=".QSI_First .QSI_SocialMediaButton.QSI_First { border-radius: "+r.tlBorderRadius+"; } QSI_First .QSI_SocialMediaButton.QSI_Last { border-radius: "+r.trBorderRadius+"; } QSI_Last .QSI_SocialMediaButton.QSI_First { border-radius: "+r.blBorderRadius+"; } QSI_Last .QSI_SocialMediaButton.QSI_Last { border-radius: "+r.brBorderRadius+"; } ",a},getThemeStyles:function(e){var t={background:"none",border:"none",highlight:"none"};switch(e.Options.displayOptions.theme){case"Transparent":break;case"Glass":if(!("Internet Explorer"===QSI.Browser.name&&QSI.Browser.version<8)){t.background="rgba(255, 255, 255, .4)",t.border="1px solid rgba(200, 200, 200, .6)",t.highlight="1px solid rgba(255, 255, 255, .8)";break}case"Light":t.background="#E6E6E6",t.border="1px solid #B3B3B3",t.highlight="1px solid #FFFFFF";break;case"Medium":t.background="#666666",t.border="1px solid #4D4D4D",t.highlight="1px solid #7D7D7D";break;case"Dark":t.background="#333333",t.border="1px solid #1A1A1A",t.highlight="1px solid #484848"}return t},getPadding:function(e){var t="";switch(e){case"64px":t="8px";break;case"48px":t="7px";break;case"32px":t="6px";break;case"24px":t="5px"}return t},getBoxShadow:function(e,t){var i="0",n={};if("Small"===t)return{shadowOutset:"none",shadowInset:"none",borderRadius:"none",tlBorderRadius:"none",trBorderRadius:"none",blBorderRadius:"none",brBorderRadius:"none",firstBorderRadius:"none",lastBorderRadius:"none"};switch(e.Options.displayOptions.theme){case"Transparent":break;case"Glass":i=.15;break;case"Light":i=.25;break;case"Medium":i=.45;break;case"Dark":i=.6}n.shadowOutset="0px 0px 10px 0px rgba(0, 0, 0, "+i+")",n.shadowInset="none";var r="3px";switch(t){case"64px":r="6px";break;case"48px":r="5px";break;case"32px":r="4px";break;case"24px":r="3px"}if(n.borderRadius=r,n.tlBorderRadius=r+" 0px 0px 0px",n.trBorderRadius="0px "+r+" 0px 0px",n.blBorderRadius="0px 0px 0px "+r,n.brBorderRadius="0px 0px "+r+" 0px",n.firstBorderRadius=r+" "+r+" 0px 0px",n.lastBorderRadius="0px 0px "+r+" "+r,0===e.Options.displayOptions.xOffset)switch(e.Options.displayOptions.position){case"OTLL":case"OML":case"OBLL":n.shadowOutset="0px -4px 10px -2px rgba(0, 0, 0, "+i+"), -5px 0px 10px -4px rgba(0, 0, 0, "+i+"), -2px 4px 10px -3px rgba(0, 0, 0, "+i+")",n.borderRadius=r+" 0px 0px "+r,n.tlBorderRadius=r+" 0px 0px "+r,n.trBorderRadius="none",n.blBorderRadius="0px 0px 0px "+r,n.brBorderRadius="none",n.firstBorderRadius=r+" 0px 0px 0px",n.lastBorderRadius="0px 0px 0px "+r;break;case"OTRR":case"OMR":case"OBRR":n.shadowOutset="2px -5px 10px -3px rgba(0, 0, 0, "+i+"), 8px 0px 10px -6px rgba(0, 0, 0, "+i+"), 0px 5px 10px -3px rgba(0, 0, 0, "+i+")",n.borderRadius="0px "+r+" "+r+" 0px",n.tlBorderRadius="none",n.trBorderRadius="0px "+r+" 0px 0px",n.blBorderRadius="none",n.brBorderRadius="0px 0px "+r+" 0px",n.firstBorderRadius="0px "+r+" 0px 0px",n.lastBorderRadius="0px 0px "+r+"0px"}return n},getWidth:function(e,t){var i=0;switch(t){case"64px":i=82;break;case"48px":i=64;break;case"32px":i=46;break;case"24px":i=38;break;case"Large":case"Small":i=82}return i*QSI.CreativeManager.SocialMediaHelper.getMaxCols(e)},getMaxCols:function(e){var t=0;for(var i in e.Options.buttons)Object.prototype.hasOwnProperty.call(e.Options.buttons,i)&&(t=Math.max(t,e.Options.buttons[i].length));return t},getWidgetStyles:function(e,t){var i=".QSI_SocialMediaButton {position:relative;} ";for(var n in i+="Small"===t?".QSI_SocialMediaButton .Content { height: 20px; padding: 3px; } ":".QSI_SocialMediaButton { height: 80px; width: 80px; } ",e.Options.buttons)if(Object.prototype.hasOwnProperty.call(e.Options.buttons,n)){var r=e.Options.buttons[n];if(r)switch(r.type){case"Facebook":i+="Large"===t?".QSI_SocialMediaButton.QSI_Facebook .Content { width: 48px; height: 62px; position: absolute; top: 9px; left: 17px; } ":".QSI_SocialMediaButton.QSI_Facebook .Content { width: 90px; } ";break;case"GooglePlus":i+="Large"===t?".QSI_SocialMediaButton.QSI_GooglePlus .Content { width: 50px; height: 60px; position: absolute; top: 11px; left: 16px; } ":".QSI_SocialMediaButton.QSI_GooglePlus .Content { width: 90px; } ";break;case"Twitter":i+="Large"===t?".QSI_SocialMediaButton.QSI_Twitter .Content { width: 55px; height: 62px; position: absolute; top: 10px; left: 13px; } ":".QSI_SocialMediaButton.QSI_Twitter .Content { width: 107px; } ";break;case"LinkedIn":i+="Large"===t?".QSI_SocialMediaButton.QSI_LinkedIn .Content { height: 62px; position: absolute; top: 9px; left: 11px; } ":".QSI_SocialMediaButton.QSI_LinkedIn .Content { width: 93px; } ";break;case"Reddit":i+="Large"===t?".QSI_SocialMediaButton.QSI_Reddit .Content { width: 50px; height: 66px; position: absolute; top: 5px; left: 15px; } ":".QSI_SocialMediaButton.QSI_Reddit .Content { height: 17px; width: 75px; margin-top: 3px; } ";break;case"Digg":i+="Large"===t?".QSI_SocialMediaButton.QSI_Digg .Content { width: 54px; height: 69px; position: absolute; top: 6px; left: 14px; } ":".QSI_SocialMediaButton.QSI_Digg .Content { width: 76px; } "}}return i}}},function(e,t){QSI.CreativeManager.Utilities={getImpressionURL:function(e){return this.getStatsUrl("Q_Impress",e)},getClickURL:function(e){return this.getStatsUrl("Q_Click",e)},getStatsUrl:function(e,t){var i={};i[e]=1;var n={Q_CID:t.creativeID,Q_SIID:t.interceptID,Q_ASID:t.asid,Q_CLIENTVERSION:QSI.global.clientVersion||"unknown",Q_CLIENTTYPE:QSI.global.clientType||"unknown"};return QSI.util.forOwn(n,function(e,t){i[t]=e}),void 0!==QSI.clientTypeVariant&&(i.Q_CLIENTTYPE+=QSI.clientTypeVariant),QSI.baseURL+"?"+QSI.Orchestrator.generateQueryString(i)},getWebResponsiveResetStyle:function(e){var t="";return[{selectorList:["div","dl","dt","dd","ul","ol","li","h1","h2","h3","h4","h5","h6","span","pre","form","fieldset","textarea","p","blockquote","tr","th","td"],styleResets:"{ margin: 0; padding: 0;background-color: transparent; border: 0; font-size: 12px; line-height: normal; vertical-align:baseline; box-shadow: none; }"},{selectorList:["img"],styleResets:"{ height: auto; width: auto; margin: 0; padding: 0 }"},{selectorList:["ul","ol"],styleResets:"{ margin: 12px 0; padding-left: 40px; }"},{selectorList:["ul li"],styleResets:"{ list-style-type: disc; }"},{selectorList:["ol li"],styleResets:"{ list-style-type: decimal; }"},{selectorList:[".scrollable"],styleResets:"{ -webkit-overflow-scrolling: touch; }"},{selectorList:["table"],styleResets:"{ border-collapse: collapse; border-spacing: 0; }"},{selectorList:["table td"],styleResets:"{ padding: 2px; }"},{selectorList:["*"],styleResets:"{ box-sizing: content-box; }"}].forEach(function(i){t+=function(t,i){if(0===t.length)return"";for(var n="."+e,r="",o=0;o<t.length;o++)r+=n+" "+t[o]+",";return(r=r.slice(0,-1))+i}(i.selectorList,i.styleResets)}),t},getResetStyle:function(e){var t="."+e;return t+" div,"+t+" dl,"+t+" dt,"+t+" dd,"+t+" ul,"+t+" ol,"+t+" li,"+t+" h1,"+t+" h2,"+t+" h3,"+t+" h4,"+t+" h5,"+t+" h6,"+t+" pre,"+t+" form,"+t+" fieldset,"+t+" textarea,"+t+" p,"+t+" blockquote,"+t+" th,"+t+" td {margin: 0;padding: 0;color: black;font-family: arial;font-size: 12px;line-height: normal;}"+t+" ul {margin: 12px 0;padding-left: 40px;}"+t+" ol,"+t+" ul {margin: 12px 0;padding-left: 40px;}"+t+" ul li {list-style-type: disc;}"+t+" ol li {list-style-type: decimal;}"+t+" .scrollable {-webkit-overflow-scrolling: touch;}"+t+" table {border-collapse: collapse;border-spacing: 0;}"+t+" table td {padding: 2px;}.QSIPopOver *,.QSISlider *,.QSIPopUnder *,.QSIEmbeddedTarget * {box-sizing: content-box;}"},hasCreativeEmbeddedTarget:function(e){if(!e||!e.Options.elements||!e.Options.elements.Elements)return!1;var t=e.Options.elements.Elements;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=t[i];if(n.type&&"EmbeddedTarget"===n.type)return!0}return!1},parsePipedText:function(e){var t,i=/\$\{(SI)?([A-Za-z]*):\/\/([^\}]*)\}/g,n=[];do{(t=i.exec(e))&&n.push(t)}while(t);return n}}},function(e,t){QSI.RunIntercepts=function(e,t){void 0===e&&(e=null),QSI.util.observe(window,"message",function(e){try{if(QSI.Orchestrator&&QSI.Orchestrator.isMessageEventOriginAllowed&&!QSI.Orchestrator.isMessageEventOriginAllowed(e.origin))return;if(e.data&&"string"==typeof e.data){var t=e.data.split("|");if("QualtricsEOS"===t[0]){var i=t[1],n=t[2];QSI.history.logSurvey(i,n)}}}catch(e){"undefined"!=typeof QSI&&QSI.dbg&&QSI.dbg.e&&QSI.dbg.e(e)}});for(var i=e?[e]:Object.keys(QSI.Request),n=0;n<i.length;n++){for(var r in QSI.Request[i[n]].Intercepts)if(Object.prototype.hasOwnProperty.call(QSI.Request[i[n]].Intercepts,r)){var o=QSI.Request[i[n]].Intercepts[r];if(!QSI.reg[r]){var a;if(QSI.history.logIntercept(r,o.Targeting.Decision.ActionSetID),o.siid=i[n],o.Intercept){var s=o.Intercept.DisplayOptions;a=void 0!==s.displayInterceptType?s.displayInterceptType:!0===s.manualDisplay?"manual":"onload"}!t||QSI.Request[i[n]].zoneManualDisplay&&"manual"!==a?QSI.Orchestrator.setInterceptDisplayOptionCallback(a,QSI.RunIntercept.bind(null,r,o)):"manual"===a&&QSI.RunIntercept(r,o)}}QSI.isDebug&&!QSI.debuggerHasDisplayed&&(new QSI.DebugHandler(QSI.Request[i[n]].Debug),QSI.debuggerHasDisplayed=!0)}var c=document.createEvent("Event");c.initEvent("Resolved",!0,!0),document.body.dispatchEvent(c)},QSI.RunIntercept=function(e,t){try{if(void 0===t.Targeting.Decision.ActionSetID||null===t.Targeting.Decision.ActionSetID)return;var i=t.Intercept.ActionSets[t.Targeting.Decision.ActionSetID];g=i.EmbeddedData,(!QSI.ed[e]||g&&0!==g.length)&&(QSI.ed[e]=g),QSI.global.intercepts[e]={CreativeID:t.Targeting.Decision.Creative.ID,ASID:t.Targeting.Decision.ActionSetID};var n={id:t.siid,interceptID:t.Targeting.InterceptID,intercept:t.Intercept,actionSet:t.Intercept.ActionSets[t.Targeting.Decision.ActionSetID],creative:t.Creative,decision:t.Targeting.Decision,params:QSI.Request[t.siid].Params},r=t.Targeting.Decision.Creative.LocatorValues;if(r)for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var a=r[o];if(t.Creative.Options&&t.Creative.Options.html&&(t.Creative.Options.html=QSI.Orchestrator.replaceAll(t.Creative.Options.html,o,a)),t.Creative.Options&&t.Creative.Options.elements)for(var s in t.Creative.Options.elements.Elements)if(Object.prototype.hasOwnProperty.call(t.Creative.Options.elements.Elements,s)){var c=t.Creative.Options.elements.Elements[s];c.content=QSI.Orchestrator.replaceAll(c.content,o,a)}}QSI.RunInterceptUtilities.processAnchorTags(t),n.actionSet.ActionOptions.targetPopUnderDisplay&&t.PopUnderTarget&&("Target"===t.Targeting.Decision.PopUnderTarget.ID?n.actionSet.ActionOptions.targetPopUnderDisplay.id="Target":function(e,t){t.Options.width=t.Options.baseElement.style.width,t.Options.height=t.Options.baseElement.style.height,t.Options.helperScriptSrc=QSI.baseURL+"Orchestrator.php";var i={onPopForwardShowTarget:t.Options.showTargetOnPopForward,showOnPageChange:t.Options.showOnPageChange,showOnSiteExit:t.Options.showOnSiteExit,checkThreshold:3,watchInterval:1e3,targetWidth:e.actionSet.ActionOptions.targetWidth,targetHeight:e.actionSet.ActionOptions.targetHeight,targetFullScreen:e.actionSet.ActionOptions.targetFullScreen,impressionURL:QSI.CreativeManager.Utilities.getImpressionURL(e),clickURL:QSI.CreativeManager.Utilities.getClickURL(e),originalURL:e.decision.Target.OriginalURL};e.actionSet.ActionOptions.targetPopUnderDisplay.creative={elements:t.Options.elements,resetStyle:QSI.CreativeManager.Utilities.getResetStyle("QSIPopUnder"),popunderOptions:t.Options,popunderHelperOptions:i}}(n,t.PopUnderTarget));var l,p=function(){t.Creative?QSI.CreativeManager.isCreativeSupported(t.Creative.Type)?QSI.CreativeManager["run"+t.Creative.Type](n):QSI.dbg.c("Creative type '"+t.Creative.Type+"' is not supported."):QSI.CreativeManager.runNoCreative(n)},d=!1,u=i.ActionOptions.triggerMultipleTimes;if(u&&(QSI.callbacks=QSI.callbacks||{},QSI.callbacks[e]=QSI.callbacks[e]||{},QSI.callbacks[e].onClose=function(){setTimeout(function(){d=!1})}),i.ActionOptions.useCustomTrigger)"scroll"===i.ActionOptions.triggerType?(l=function(){try{var e=i.ActionOptions.scrollPercentage?i.ActionOptions.scrollPercentage:0;QSI.util.hasReachedScrollPosition(e)&&(p(),QSI.util.stopObserving(window,i.ActionOptions.triggerType,l))}catch(e){QSI.dbg.e(e)}},QSI.util.observe(window,i.ActionOptions.triggerType,l)):i.ActionOptions.triggerEntirePage?(l=function(){try{if(u&&d)return;if(p(),d=!0,u)return;QSI.util.stopObserving(document.body,i.ActionOptions.triggerType,l)}catch(e){QSI.dbg.e(e)}},QSI.util.observe(document.body,i.ActionOptions.triggerType,l)):"pageLoad"===i.ActionOptions.triggerType?p():(l=function(){try{if(u&&d)return;if(p(),d=!0,u)return;QSI.util.stopObserving(QSI.util.$(i.ActionOptions.triggerElementID),i.ActionOptions.triggerType,l)}catch(e){QSI.dbg.e(e)}},QSI.util.observe(QSI.util.$(i.ActionOptions.triggerElementID),i.ActionOptions.triggerType,l));else p()}catch(e){QSI.dbg.e(e)}var g},QSI.RunInterceptUtilities={processAnchorTags:function(e){var t;if(e.Targeting&&e.Targeting.Decision&&e.Targeting.Decision.Creative&&(t=e.Targeting.Decision.Creative.AnchorTags),t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){t[i];if(e.Creative.Options&&e.Creative.Options.elements){var n=e.Creative.Options.elements.Elements;if(n&&n.length)for(var r=0;r<n.length;r++)new RegExp(i,"i").test(n[r].content)&&(n[r].addQClickListener=!0)}}}}},function(e,t,i){"use strict";i.r(t);i(1),i(2),i(3),i(4),i(5),i(6),i(7),i(8),i(9),i(10);var n=[],r=function(e){var t=e;return"string"==typeof e&&(t=document.getElementById(e)),t},o=function(e,t,i,r){void 0===r&&(r=!1),n=n||[],e&&(n.push({elementToObserve:e,eventName:t,eventHandler:i,preventRemove:r||!1}),e.addEventListener(t,i,!1))},a=function(e){return"string"==typeof e},s=function(e){return"object"==typeof e&&e instanceof Array},c=function(){return function(){var e=this;this.trackElements=function(){if(0==e.loaded){e.loadCounts();var t=window.QSI,i=t.dbg,n=t.global.eventTrackers;Object.keys(n).forEach(function(t){var i=n[t];e.trackElement(i,t)}),o(window,"beforeunload",function(){try{e.storeCounts()}catch(e){void 0!==window.QSI&&i&&i.e&&i.e(e)}}),e.loaded=!0}},this.trackElement=function(t,i){var n=window.QSI.dbg,a=r(t);a&&o(a,"click",function(){try{e.track(i)}catch(e){void 0!==window.QSI&&n&&n.e&&n.e(e)}})},this.track=function(t){e.clicked=!0,e.counts[t]?e.counts[t]++:e.counts[t]=1},this.storeCounts=function(){if(!0===e.clicked){var t=window.QSI.cookie,i=JSON.stringify(e.counts);t.set(e.cookieName,i)}},this.loadCounts=function(){var t=window.QSI.cookie.get(e.cookieName);t&&(e.counts=JSON.parse(t))},this.get=function(t){return e.counts[t]?e.counts[t]:0},this.incrementEventList=function(){if("_qsie"in window&&s(window._qsie))for(var t=0,i=window._qsie.length;t<i;t++){var n=window._qsie[t];a(n)&&e.track(n)}},this.counts={},this.cookieName="QSI_CT",this.loaded=!1,this.clicked=!1}}();var l=function(){return(l=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};var p=function(){var e,t=window.QSI,n=window.QSI=l(l({},t),{reg:t.reg||{},ed:t.ed||{},reqID:t.reqID||{},overrides:t.overrides||{},shouldStripQueryParamsInQLoc:!!t.shouldStripQueryParamsInQLoc,config:l({zoneId:"",brandId:""},t.config),global:l(l({currentZIndex:2e9,intercepts:{},eventTrackers:[],featureFlags:{},enableJSSanitization:!1,latencySamplePercentage:.02,alreadyFetchedJSModules:[],maxCookieSize:null},t.global),{isHostedJS:function(){return!1},clientType:"web",clientVersion:"1.27.2",hostedJSLocation:t.config.hostedJSLocation||t.config.clientBaseURL,legacyId:t.config.interceptId||t.config.zoneId||t.config.targetingId||t.global.ID}),isFullDbgInitialized:!1,baseURL:"",LoadingState:t.LoadingState||[],PendingQueue:t.PendingQueue||[],debugConfig:t.debugConfig||{},getBaseURLFromConfigAndOverrides:function(){var e="";if(n.overrides.baseURL)0===(e=n.overrides.baseURL).indexOf("https://")?e=e.substring(8):0===e.indexOf("http://")?e=e.substring(7):0===e.indexOf("//")&&(e=e.substring(2));else if(e="siteintercept.qualtrics.com",n.config.brandId){if(!n.config.zoneId)throw"You must specify a zoneId";e=n.config.zoneId.replace("_","").toLowerCase()+"-"+n.config.brandId.toLowerCase()+"."+e}return"//"+e},initFullDbg:function(){n.isFullDbgInitialized=!0},getClientVersionQueryString:function(){var e={Q_CLIENTVERSION:n.global.clientVersion||"unknown",Q_CLIENTTYPE:n.global.clientType||"unknown"};return void 0!==n.clientTypeVariant&&(e.Q_CLIENTTYPE+=n.clientTypeVariant),n.generateQueryString(e)},generateQueryString:function(e){var t=[];for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var n=i;e[i]&&(n+="="+encodeURIComponent(e[i])),t.push(n)}return t.join("&")}});if(!n.global.legacyId)throw"You must specify a zoneId or zoneId and interceptId";return n.global.baseURL=n.getBaseURLFromConfigAndOverrides(),n.global.isHostedJS()&&(n.global.enableJSSanitization=n.config.enableJSSanitization||!0),n.baseURL=n.baseURL||n.overrides.siBaseURL||"https:"+n.global.baseURL+"/WRSiteInterceptEngine/",e=n.global.hostedJSLocation,i.p=e,n}(),d=function(){function e(t){var i=this;this.metricName=e.metricName,this.components=e.components,this.overallLatencyStartTime=null,this.overallLatency=null,this.componentStartTimes={},this.componentLatencies={},this.isDuplicateScriptExecution=!1,this.setRequestId=function(e){i.requestId=e},this.startTimer=function(){i.latencyStartTime=Date.now()},this.endTimer=function(){null!==i.latencyStartTime?i.overallLatency=Date.now()-i.latencyStartTime:i.debugLog.e("Tried to log overall end time without a start time.")},this.startComponentTimer=function(e){i.componentStartTimes[e]=Date.now()},this.endComponentTimer=function(e){var t=i.componentStartTimes[e];void 0!==t?i.componentLatencies[e]=Date.now()-t:i.debugLog.e("Tried to log a component end time without a component start time.  Component name: "+e)},this.markComponentAlreadyFetched=function(t){i.componentLatencies[t]||(i.componentLatencies[t]=e.alreadyFetchedMarker)},this.markDuplicateScriptExecution=function(){i.isDuplicateScriptExecution=!0},this.send=function(){try{if(null===i.overallLatency)return void i.debugLog.e("Incomplete Latency Data Provided");var t=p.baseURL+"Ajax.php?action=LatencyLog&"+p.getClientVersionQueryString(),n=[];for(var r in p.Request)Object.prototype.hasOwnProperty.call(p.Request,r)&&r!==i.requestId&&n.push(r);var o={MetricName:e.metricName,Latency:i.overallLatency,ComponentLatencies:i.componentLatencies,AdditionalData:{RequestID:i.requestId,ClientURL:p.currentURL,UserAgent:navigator.userAgent,BrandID:p.global.brandID,BrandDC:p.global.brandDC,OtherRequestIDsExecuted:n,IsDuplicateScriptExecution:i.isDuplicateScriptExecution}};QSI.util.sendHttpRequest({type:"POST",url:t,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString({LoggingData:JSON.stringify(o)})})}catch(e){i.debugLog.e(e)}},this.sampledSend=function(e){try{Math.random()<=e/100==!0&&i.send()}catch(e){i.debugLog.e(e)}},this.debugLog=t}return e.metricName="si.SILatency",e.alreadyFetchedMarker="ALREADY_FETCHED",e.components={CORE_MODULE:"coreModuleRequest",TARGETING:"targetingRequest",DPR_TARGETING:"dprTargetingRequest",XMD_DEBUG_TARGETING:"xmdDebugTargetingRequest",ASSETS_AND_MODULES:"allAssetDefinitionsAndJSModules",CONTACT_FREQUENCY:"contactFrequencyCheck"},e}(),u=function(){return function(e,t){this.payload=t,this.type=e}}(),g=function(e,t){if("string"==typeof e&&"string"==typeof t){var i=window.QSI.windowHandler,n=i.getWin(t);if(n){var r=new u("setTargetUrlInPlaceholderWindow",e),o=JSON.stringify(r),a=i.getWindowOrigin(window);n.postMessage(o,a)}}},I=function(e,t,i,n){if(void 0!==e&&void 0!==t&&"string"==typeof i&&"string"==typeof n){var r=window.QSI,o=r.windowHandler,a=r.dbg,s=o.getWin(i);if(s){var c=new u("setEmbeddedData",{key:e,value:t}),l=JSON.stringify(c);if(/targetwindow/.test(i))s.postMessage(l,n);else try{var p=s.document.getElementById("PopUnderTargetFrame");if(p&&p.contentWindow)p.contentWindow.postMessage(l,n)}catch(e){a.e(e)}}}},S=function(){var e=window.QSI.dbg;try{var t=window.QSI.windowHandler;t.removeClosedWindowHandles();var i=t.getOptInIDsAndWindowNames()||{},n=t.getOptInIDsAndTargetOrigins()||{};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],a=n[r]||"*",s=window.QSI.EmbeddedData.getEmbeddedData(r);if(!s||window.QSI.util.isObjectEmpty(s))continue;if(window.QSI.reg[r]&&/placeholderWindow/.test(o)){var c=window.QSI.reg[r].getTarget();return void g(c,o)}for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&I(l,s[l],o,a)}}catch(t){e.e(t)}},f=function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var n=Array(e),r=0;for(t=0;t<i;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},h=function(){function e(){var e=this;this.dependencyResolverCall=!1,this.csRequest={Intercepts:{},Params:{}},this.init=function(t,i){if(e.latencyLog=t,e.debugLog=i,e.setupJFEMessageEventHandlerForIOSOptimization(),window.QSI.windows={},window.addEventListener("message",e.addWindowHandlersPostMessageListener),e.latencyLog.startTimer(),p.global.legacyId){p.Request||(p.Request={}),p.debugConfig=p.debugConfig||{};var n=p.global.legacyId,r={id:n};e.latencyLog.setRequestId(n),~Object.keys(p.Request).indexOf(n)&&t.markDuplicateScriptExecution(),0===n.indexOf("ZN")?r.ZoneID=n:r.InterceptID=n;try{window.webpackJsonp&&e.debugLog&&"function"==typeof e.debugLog.log&&e.debugLog.log("hasWebpackJsonp: ZoneId: "+n+" | BrandId: "+p.global.brandID)}catch(e){}var o=void 0;if(p.global.isHostedJS())(void 0!==(o=e.parseQueryString(window.location.href)).Q_DEBUG||p.config.debug)&&(r.Q_DEBUG=null,e.debugLog.enableFullDebug()),(p.config.editing||"0"===p.global.version)&&(r.version="0");else{var a=void 0;if(document.currentScript)a=document.currentScript.src;else try{var s=document.querySelectorAll("script"),c=[];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(c[l]=s[l]);var d=p.global.baseURL;0===d.indexOf("https://")?d=d.substring(8):0===d.indexOf("http://")?d=d.substring(7):0===d.indexOf("//")&&(d=d.substring(2)),a=c.filter(function(e){return(-1!==e.src.indexOf(d+"/WRSiteInterceptEngine/?")||-1!==e.src.indexOf(d+"/SIE/?"))&&(-1===e.src.indexOf("Q_Impress")&&-1===e.src.indexOf("Q_Redirect")&&-1===e.src.indexOf("Q_Click")&&-1===e.src.indexOf("Q_DPR"))})[0].src}catch(t){e.debugLog.e("An error occurred while loading the intercept. "+t)}void 0!==(o=e.parseQueryString(a)).Q_NOCACHE&&(r.Q_NOCACHE=null),void 0!==o.Q_BOOKMARKLET&&(r.Q_BOOKMARKLET=null,r.Q_DEBUG=null,e.debugLog.enableFullDebug()),void 0!==o.Q_DEBUG&&(r.Q_DEBUG=null,e.debugLog.enableFullDebug()),void 0!==o.Q_VERSION&&(r.version=o.Q_VERSION)}void 0!==p.global.clientVersion&&null!==p.global.clientVersion&&(r.Q_CLIENTVERSION=p.global.clientVersion),void 0!==p.global.clientType&&null!==p.global.clientType&&(r.Q_CLIENTTYPE=p.global.clientType,void 0!==p.clientTypeVariant&&(r.Q_CLIENTTYPE+=p.clientTypeVariant)),e.load(r)}else if(!p.Request){p.Request={};for(var u=document.querySelectorAll("[data-siteinterceptscript]"),g=0;g<u.length;g++){var I=u[g];p.isDebug=p.isDebug||I.hasAttribute("data-qdebug")||-1!==window.location.href.indexOf("Q_DEBUG"),p.isDebug&&e.debugLog.enableFullDebug();var S={};I.hasAttribute("data-interceptid")&&(S.InterceptID=I.getAttribute("data-interceptid"),S.id=S.InterceptID),I.hasAttribute("data-zoneid")&&(S.ZoneID=I.getAttribute("data-zoneid"),S.id=S.ZoneID),I.hasAttribute("data-qnocache")&&(S.Q_NOCACHE=null),I.hasAttribute("data-qbookmarklet")&&(S.Q_BOOKMARKLET=null),p.isDebug&&(S.Q_DEBUG=null),I.hasAttribute("data-version")&&(S.version=I.getAttribute("data-version")),e.load(S)}}},this.generateQueryString=p.generateQueryString,this.getClientVersionQueryString=p.getClientVersionQueryString,this.Deferred=function(){var t={},i="pending",n=[],r=[],o=[],a=[],s=e,c={state:function(){return i},then:function(e,t){return this.done(e).fail(t),this},done:function(e){if("pending"===i&&e)o.push(e);else if("resolved"===i)try{e.apply(this,n)}catch(e){s.debugLog.e(e)}return this},fail:function(e){if("pending"===i&&e)a.push(e);else if("rejected"===i)try{e.apply(this,r)}catch(e){s.debugLog.e(e)}return this},promise:function(){return c}};return e.forOwn(c,function(e,i){t[i]=c[i]}),t.resolve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"pending"===i&&(i="resolved",n=e,s.each(o,function(t){try{t.apply(s,e)}catch(e){s.debugLog.e(e)}}))},t.reject=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"pending"===i&&(i="rejected",r=e,s.each(a,function(t){try{t.apply(s,e)}catch(e){s.debugLog.e(e)}}))},t}}return e.prototype.addWindowHandlersPostMessageListener=function(e){if("string"==typeof e.data&&-1!=e.data.indexOf("QSI_popunderwatcher_addWindowHandler")){var t=e.data.split("|"),i=t[1],n=t[2],r=e.source;try{JSON.parse(window.sessionStorage.getItem("QSI_OptInIDsAndWindowNames"))[i]!==n||window.QSI.windows[n]||(window.QSI.windows[n]=r)}catch(e){this.debugLog.e(e)}}},e.prototype.load=function(e){var t=this,i=window.QSI.AssetManager;p.LoadingState.push(!0);var n=this.generateTargetingURL(e);this.latencyLog.startComponentTimer(d.components.TARGETING);var r=this.getTargetingPostData(),o=i.promiseFetch("POST",n,r);p.Request[e.id]={Intercepts:{},Params:e},o.then(function(){t.latencyLog.endComponentTimer(d.components.TARGETING)}).then(this.handleTargetingResponse.bind(this,e),function(i){t.debugLog.e(i.Message),e.deferred&&e.deferred.reject()})},e.prototype.getTargetingPostData=function(){var e;return e=p.shouldStripQueryParamsInQLoc?"Q_LOC="+encodeURIComponent(window.location.href.split("?")[0]):"Q_LOC="+encodeURIComponent(window.location.href),void 0!==p.config.externalReference&&(e+="&extRef="+p.config.externalReference),e},e.prototype.generateTargetingURL=function(e){var t=p.baseURL+"Targeting.php?",i=[];e.InterceptID&&i.push("Q_InterceptID="+e.InterceptID),e.ZoneID&&i.push("Q_ZoneID="+e.ZoneID),e.Q_XMD_DEBUG?i.push("Q_XMD_DEBUG"):(null===e.Q_DEBUG&&(i.push("Q_DEBUG"),p.isDebug=!0),null===e.Q_BOOKMARKLET&&i.push("Q_BOOKMARKLET")),null===e.Q_NOCACHE&&i.push("Q_NOCACHE"),void 0!==e.version&&null!==e.version&&i.push("Version="+e.version);var n=p.profile.get("QualtricsSurveyHistory","",1);if(n){var r=encodeURIComponent(Object.keys(n).toString());i.push("Q_QualtricsSurveyTaken="+r)}return void 0!==e.Q_CLIENTVERSION&&null!==e.Q_CLIENTVERSION&&i.push("Q_CLIENTVERSION="+e.Q_CLIENTVERSION),void 0!==e.Q_CLIENTTYPE&&null!==e.Q_CLIENTTYPE&&i.push("Q_CLIENTTYPE="+e.Q_CLIENTTYPE),t+i.join("&")},e.prototype.isMessageEventOriginAllowed=function(e){if(p.reg)for(var t in p.reg)if(Object.prototype.hasOwnProperty.call(p.reg,t)&&p.reg[t]&&p.reg[t].options){var i=p.reg[t].options;if(i.targetURLOrigin===e)return!0;if(i.target&&i.target.OriginalURLOrigin===e)return!0}return!1},e.prototype.doCSTargetingEvaluation=function(e,t,i){var n,r=this;if(function(e){e.EMBEDDED_TARGET="EmbeddedTarget"}(n||(n={})),Array.isArray(e.ClientSideIntercepts)){var o=window.QSI.ClientSideTargeting;e.Intercepts=[],e.ClientSideIntercepts.forEach(function(a){if(a)if(a.Error)r.debugLog.log(a.Message);else{var s=o.evaluateIntercept(a);s&&(t.Intercepts[a.InterceptID]={},t.Intercepts[a.InterceptID].Targeting=s,e.Intercepts.push(s),s.Decision.Creative&&(s.Decision.Creative.Type&&(e.Modules[s.Decision.Creative.Type]=i),s.Decision.PopUnderTarget&&(e.Modules.PopUnder=i)),s.Decision.Target&&s.Decision.Target.DisplayType===n.EMBEDDED_TARGET&&(e.Modules.EmbeddedTarget=i))}}),e.Intercepts.length>0&&(e.Modules.ScreenCapture=i),delete e.Modules.DependencyResolver}},e.prototype.keysAreEqual=function(e,t){var i=Object.getOwnPropertyNames(e).sort(),n=Object.getOwnPropertyNames(t).sort(),r=i.indexOf("ClientLog");if(-1!==r&&(i=i.splice(r,1)),-1!==(r=n.indexOf("ClientLog"))&&(n=n.splice(r,1)),i.length!==n.length)return!1;for(var o=0;o<i.length;o++)if(i[o]!==n[o])return!1;return!0},e.prototype.shallowEqual=function(e,t){var i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return!1}return!0},e.prototype.logCSTargetingDiscrepancies=function(e,t){if(Array.isArray(t.ClientSideIntercepts)){var i=e.Modules,n=t.Modules,r=[];this.keysAreEqual(i,n)||r.push("siResponse.Modules: "+JSON.stringify(i)+" csSiResponse.Modules: "+JSON.stringify(n));var o,a,s=function(e){var t={};return e.forEach(function(e){e.Decision.ActionSetID&&(t[e.InterceptID]=e.Decision.ActionSetID)}),t},c=s(e.Intercepts),l=s(t.Intercepts),p=(o=t.ClientSideIntercepts,a={},o.forEach(function(e){a[e.InterceptID]=e}),a);if(!this.shallowEqual(c,l)){var d=window.QSI.ClientSideTargeting;Object.getOwnPropertyNames(c).forEach(function(e){c[e]!==l[e]&&r.push("shouldShow: "+d.shouldShowDiff(p[e])+" ClientSideIntercepts["+e+"]: "+JSON.stringify(p[e]))}),r.push("siResDecisions: "+JSON.stringify(c)+" csSiResDecisions: "+JSON.stringify(l))}r.length>0&&this.debugLog.logCST(r)}},e.prototype.handleTargetingResponse=function(e,t){var i=this,n=window.QSI,r=n.AssetManager,o=n.API,a=n.EventTracker,s=n.history;try{var c;if("SampleRejected"===t)return;try{c=JSON.parse(t)}catch(e){return void this.debugLog.e("Failed to parse JSON of targeting response: "+t)}if(c.Error)return void this.debugLog.e(c.Message);this.setGlobalVars(c);var l=c.Modules;if(s.logVisit(),!p.Request[e.id].hasDependencies&&p.Request[e.id].hasBeenResolved||(a.trackElements(),a.incrementEventList(),window._qsie=o.Events),l.Core&&this.isBrowserSupported()){r.promiseLoadScript("Core",l.Core,p,this.latencyLog).then(function(){try{var n=window.QSI.ClientSideTargeting;if(p.global.featureFlags["DUX.ClientSideTargetingM1"]&&c.ClientSideIntercepts&&c.ClientSideIntercepts.length>0?(n.setEnabled(!0),i.doCSTargetingEvaluation(c,p.Request[e.id],p.global.clientVersion)):c.Intercepts&&c.Intercepts.forEach(function(t){t&&(t.Error?i.debugLog.log(t.Message):(p.Request[e.id].Intercepts[t.InterceptID]={},p.Request[e.id].Intercepts[t.InterceptID].Targeting=t))}),i.dependencyResolverCall||(i.csSiResponse=JSON.parse(t),!0!==p.global.featureFlags["DUX.ClientSideTargetingM1"]&&p.global.featureFlags["DUX.ClientSideTargetingDiff"]&&i.doCSTargetingEvaluation(i.csSiResponse,i.csRequest,p.global.clientVersion)),!c.Dependencies||p.global.featureFlags["DUX.ClientSideTargetingM1"]&&c.ClientSideIntercepts&&c.ClientSideIntercepts.length>0){try{!0!==p.global.featureFlags["DUX.ClientSideTargetingM1"]&&p.global.featureFlags["DUX.ClientSideTargetingDiff"]&&i.logCSTargetingDiscrepancies(c,i.csSiResponse)}catch(e){i.debugLog.e("Failed to log CST Diff: "+e)}!function(e){var t=window.QSI,i=t.util,n=t.windowHandler,r=t.dbg;i.observe(window,"beforeunload",e,!0);try{n.setupWindowHandles()}catch(e){r.e(e)}}(S),p.config.externalReference&&p.global.featureFlags["DX.ContactFrequencyV3"]&&(p.isDebug||n.isEnabled())?(e.Q_XMD_DEBUG=!0,i.handleXMDDebug(e,c)):i.loadModules(e,c)}else i.handleDependencyResolver(e,c)}catch(e){i.debugLog.e(e)}},function(){})}else{try{!0!==p.global.featureFlags["DUX.ClientSideTargetingM1"]&&p.global.featureFlags["DUX.ClientSideTargetingDiff"]&&this.logCSTargetingDiscrepancies(c,this.csSiResponse)}catch(e){this.debugLog.e("Failed to log CST Diff: "+e)}this.doneLoading(e)}}catch(e){this.debugLog.e(e)}},e.prototype.handleDependencyResolver=function(e,t){var i=this,n=window.QSI.AssetManager;this.dependencyResolverCall=!0;var r=this.generateTargetingURL(e);r+="&t="+(new Date).getTime(),r+="&Q_VSI="+encodeURIComponent(JSON.stringify(t.RequestData.validIntercepts)),r+="&Q_DPR=true",this.latencyLog.startComponentTimer(d.components.DPR_TARGETING);var o="";for(var a in t.Dependencies)Object.prototype.hasOwnProperty.call(t.Dependencies,a)&&("SiteCatalyst"===a&&(QSI["Resolve"+a].rootName=p.adobeVar),o+=QSI["Resolve"+a].prepare(t.Dependencies[a]));o+="&"+this.getTargetingPostData(),n.promiseFetch("POST",r,o).then(function(){this.latencyLog.endComponentTimer(d.components.DPR_TARGETING)}).then(this.handleTargetingResponse.bind(this,e),function(t){i.debugLog.e(t.Message),e.deferred&&e.deferred.reject()})},e.prototype.handleXMDDebug=function(e,t){var i=this,n=window.QSI.AssetManager,r={};t.Intercepts.forEach(function(e){if(e.Decision&&e.Decision.ActionSetID){var t=e.InterceptID,i=e.Decision.ActionSetID;r[t]=i}});var o=this.generateTargetingURL(e),a="";a+=this.getTargetingPostData(),a+="&ContactFrequencyDebugIntercepts="+JSON.stringify(r),this.latencyLog.startComponentTimer(d.components.XMD_DEBUG_TARGETING),n.promiseFetch("POST",o,a).then(function(n){i.latencyLog.endComponentTimer(d.components.XMD_DEBUG_TARGETING),i.handleXMDDebugResponse(e,t,r,n)})},e.prototype.handleXMDDebugResponse=function(e,t,i,n){var r,o=this;try{r=JSON.parse(n)}catch(e){return void this.debugLog.e("Failed to parse JSON of Q_XMD_DEBUG targeting response: "+n)}if(p.isDebug){var a;try{a=JSON.parse(t.DebugInfo)}catch(e){return void this.debugLog.e("Failed to parse debugInfo JSON of Q_DEBUG targeting response: "+t)}r.Intercepts.forEach(function(e){if(e){var t=e.InterceptID;Object.prototype.hasOwnProperty.call(a.Intercepts,t)&&Object.prototype.hasOwnProperty.call(i,t)&&(e.Error?(o.debugLog.log(e.Message),a.Intercepts[t].contactFrequencyPassed=!1):a.Intercepts[t].contactFrequencyPassed=!!e.Decision.ActionSetID)}}),r.DebugInfo=JSON.stringify(a),r.Modules.Debug=p.global.clientVersion}r.Intercepts.forEach(function(t){t&&(t.Error?o.debugLog.log(t.Message):(p.Request[e.id].Intercepts[t.InterceptID]={},p.Request[e.id].Intercepts[t.InterceptID].Targeting=t))}),this.loadModules(e,r)},e.prototype.loadModules=function(e,t){var i=this,n=window.QSI,r=n.AssetManager,o=n.ContactFrequency,a=[],s=t.Modules;for(var c in this.latencyLog.startComponentTimer(d.components.ASSETS_AND_MODULES),s)if(Object.prototype.hasOwnProperty.call(s,c)){if("ScreenCapture"===c){this.setupScreenCaptureListener(s[c]);continue}if("ClientLog"===c)continue;if("DependencyResolver"===c)continue;if(("HTTPRedirect"===c||"SocialMedia"===c||"LatencyLog"===c)&&p.global.isHostedJS()){this.debugLog.c("Module type '"+c+"' is not supported when using Site Intercept Hosted JS");continue}var l=r.promiseLoadScript(c,s[c],p,this.latencyLog);a.push(l)}for(var u=0;u<t.Intercepts.length;u++){var g=t.Intercepts[u];if(g&&!g.Error&&null!==g.Decision.ActionSetID){var I=r.promiseLoadIntercept(e.id,g,e,this.latencyLog),S=r.promiseLoadCreative(e.id,g,e,this.latencyLog);if(a.push(I,S),g.Decision.PopUnderTarget&&g.Decision.PopUnderTarget.ID&&"Target"!==g.Decision.PopUnderTarget.ID){var f=r.promiseLoadPopUnderTarget(e.id,g,e);a.push(f)}}}this.when.apply(this,a).then(function(){try{if(i.latencyLog.endComponentTimer(d.components.ASSETS_AND_MODULES),p.global.featureFlags["DX.ContactFrequencyV3"]||!p.global.featureFlags["DX.ContactFrequencyV2"]&&!p.global.featureFlags["DX.ContactFrequency"])i.prepareIntercepts(e,t);else o.checkContactFrequencyRules(p.Request[e.id].Intercepts,p.global.brandID).then(function(){i.prepareIntercepts(e,t)})}catch(e){i.debugLog.e(e)}},function(t){var n="";"string"==typeof t?n=t:t&&"string"==typeof t.Message&&(n=t),i.debugLog.e("An error occurred while loading the intercept. "+n),e.deferred&&e.deferred.reject()})},e.prototype.setInterceptDisplayOptionCallback=function(e,t){var i=window.QSI.util;switch(e){case"":case"onfocus":i.waitForFocus().then(t);break;case"onload":t();break;case"onexit":i.waitForExitIntent().then(t);break;default:return}},e.prototype.prepareIntercepts=function(e,t){var i=window.QSI.RunIntercepts;!0!==e.loadingFromAPI&&(this.latencyLog.endTimer(),this.latencyLog.sampledSend(p.global.latencySamplePercentage)),this.setGlobalIncludes(e,t),("manual"!==p.Request[e.id].displayInterceptType&&!p.Request[e.id].zoneManualDisplay||p.Request[e.id].hasDependencies)&&i(e.id,!1),this.doneLoading(e),e.deferred&&e.deferred.resolve()},e.prototype.isBrowserSupported=function(){return!("Chrome"===p.Browser.name&&p.Browser.version<=20)&&(!("Firefox"===p.Browser.name&&p.Browser.version<=59)&&!("Internet Explorer"===p.Browser.name&&p.Browser.version<=10))},e.prototype.setGlobalIncludes=function(e,t){if(p.isDebug){p.Request[e.id].Debug={debugInfo:JSON.parse(t.DebugInfo),version:t.RequestData.bVersion};var i={version:t.RequestData.bVersion,debugInfo:JSON.parse(t.DebugInfo)};p.debugConfig=i}p.version=t.RequestData.bVersion,p.InterceptsRan=!1,p.Request[e.id].hasDependencies=t.RequestData.hasDependencies,p.Request[e.id].hasBeenResolved=t.RequestData.hasBeenResolved,p.Request[e.id].displayInterceptType=t.RequestData.displayInterceptType,p.Request[e.id].zoneManualDisplay=t.RequestData.zoneManualDisplay},e.prototype.setGlobalVars=function(e){p.Browser={name:e.RequestData.browser,version:e.RequestData.browserVersion,isMobile:e.RequestData.isMobile,isBrowserSupported:e.RequestData.isBrowserSupported},p.CORSOrigin=e.RequestData.CORSOrigin,p.OS={name:e.RequestData.osName,version:e.RequestData.osVersion},p.global.brandID=e.RequestData.brandID,p.global.brandDC=e.RequestData.brandDC,p.global.isHostedJS()?(p.global.graphicPath="https://"+p.global.brandDC+"/WRQualtricsSiteIntercept/Graphic.php?IM=",p.global.imagePath="https:"+p.global.baseURL+"/WRSiteInterceptEngine/../WRQualtricsShared/Graphics/"):(p.global.graphicPath="https://"+p.global.brandDC+"/WRQualtricsSiteIntercept/Graphic.php?IM=",p.global.imagePath=p.global.baseURL+"/WRQualtricsShared/Graphics/"),p.global.maxCookieSize=e.RequestData.maxCookieSize,p.global.featureFlags=e.FeatureFlags,p.global.screenCaptureServiceBaseURL=e.RequestData.screenCaptureServiceBaseURL,p.global.eventTrackers=e.RequestData.eventTrackers,p.adobeVar=e.RequestData.adobeSCVariable,p.id=e.RequestData.ID,p.reqID[e.RequestData.ID]=!0,p.CookieDomain=e.RequestData.cookieDomain,p.historyStorageType=e.RequestData.historyStorageType,p.historyStorageSize=e.RequestData.historyStorageSize,p.currentURL=window.location.href.split("?")[0],function(){var e=document.createElement("div");e.className="scrollbar-measure",e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-99999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;p.scrollbarWidth=t,document.body.removeChild(e)}()},e.prototype.parseQueryString=function(e){var t={};if(e&&-1!==e.indexOf("?"))for(var i=e.split("?",2)[1].split("&"),n=0;n<i.length;n++){var r=i[n].split("=",2);"Q_LOC"===r[0]&&-1!==r[1].indexOf("Q_DEBUG")&&(t.Q_DEBUG=!0),r[0]&&(t[r[0]]=decodeURIComponent(r[1]))}return t},e.prototype.replaceAll=function(e,t,i){return t=t.replace(/([.*+?^${}()|[\]\\=!:/])/g,"\\$1"),e.replace(new RegExp(t,"g"),i)},e.prototype.when=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var n=this,r=f([e],t),o=r.length,a=o,s=1===a?e:this.Deferred(),c=function(e,t){return function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t[e]=arguments.length>1?i:n.createArrayFromArguments(f([i],r)),--a||s.resolve(t)}};if(o>1)for(var l=0;l<o;l++)r[l]&&r[l].promise?r[l].promise().done(c(l,r)).fail(s.reject):a--;return a<1&&s.resolve(r),s.promise()},e.prototype.createArrayFromArguments=function(e){return e?Array.prototype.slice.call(e):[]},e.prototype.isFunction=function(e){return"function"==typeof e||!1},e.prototype.forOwn=function(e,t){if(e&&e instanceof Object&&this.isFunction(t))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(e[i],i,e)},e.prototype.each=function(e,t){var i=e.length;if(i)for(var n=0;n<i;n++)t(e[n],n)},e.prototype.doneLoading=function(e){if(p.LoadingState.pop(),0===p.LoadingState.length){if(!0!==e.loadingFromAPI){var t=document.createEvent("Event");t.initEvent("qsi_js_loaded",!0,!0),window.dispatchEvent(t)}for(var i=p.PendingQueue.length,n=0;n<i;n++){p.PendingQueue.shift()()}}},e.prototype.setupJFEMessageEventHandlerForIOSOptimization=function(){var e=this;if(!p.JFEListenerRegistered){p.JFEListenerRegistered=!0;return window.addEventListener("message",function(t){try{if(!e.isMessageEventOriginAllowed(t.origin))return;(function(e){var t=null;if("string"==typeof e)try{t=JSON.parse(e)}catch(e){return!1}return null!==t&&"JFE"===t.from&&"SI"===t.to&&"JFELoaded"===t.event&&"iOS"===p.OS.name})(t.data)&&(i=t.source,n=t.origin,i.postMessage({event:"addIOSSIWorkaround",from:"SI",to:"JFE"},n))}catch(t){e.debugLog.e(t)}var i,n})}},e.prototype.setupScreenCaptureListener=function(e){var t=this;if(!p.screenCaptureListenerRegistered)return p.screenCaptureListenerRegistered=!0,window.addEventListener("message",function(i){try{if(!t.isMessageEventOriginAllowed(i.origin))return;var n=window.QSI,r=n.AssetManager,o=n.util.getOriginInterceptOfMessage(i.source);if(!o)return;var a=i.data;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){return}if(!a||"JFE"!==a.from||"SI"!==a.to)return;if(p.screenCaptureHandlers||(p.screenCaptureHandlers={}),"canScreenCapture"===a.event){void 0===p.screenCaptureModulePromise&&(p.screenCaptureModulePromise=r.promiseLoadScript("ScreenCapture",e,p,t.latencyLog));return void i.source.postMessage(JSON.stringify({event:"canScreenCapture",from:"SI",to:"JFE",canScreenCapture:!0}),i.origin)}void 0!==p.screenCaptureModulePromise&&p.screenCaptureModulePromise.then(function(){var e=window.QSI.ScreenCaptureHandler;switch(p.screenCaptureHandlers[a.sessionId]||(p.screenCaptureHandlers[a.sessionId]=new e(o,i.source,a.sessionId,a.translations,i.origin)),a.event){case"startScreenCapture":p.screenCaptureHandlers[a.sessionId].captureScreen(a.questionId);break;case"editScreenCapture":p.screenCaptureHandlers[a.sessionId].editAnnotations(a.questionId);break;case"removeScreenCapture":p.screenCaptureHandlers[a.sessionId].removeScreenCapture(a.questionId);break;case"sessionFinished":p.screenCaptureHandlers[a.sessionId].removeAllScreenCaptures();break;default:return}})}catch(e){t.debugLog.e(e)}})},e}(),v=function(){return function(){var e=this;this.isFullDbgInitialized=-1!==window.location.href.indexOf("Q_DEBUG"),this.safeConsole=function(t,i){if(e.isFullDbgInitialized)try{console[t](i)}catch(e){}},this.enableFullDebug=function(){e.isFullDbgInitialized=!0},this.disableFullDebug=function(){e.isFullDbgInitialized=!1},this.logCST=function(e){var t=window.QSI.ClientLog;t&&Math.random()<=2e-4&&e.forEach(function(e){t.send(e)})},this.log=function(e,t,i){var n=window.QSI,r=n.ClientLog,o=n.global;r&&(o.featureFlags.isClientLoggingEnabled?r.send(e,t,i):r.sampledSend(e,t,i,.02))},this.c=function(t){e.safeConsole("log",t),e.log(t)},this.d=function(t){e.safeConsole("dir",t),e.log(t)},this.t=function(t){e.safeConsole("trace",t),e.log(t)},this.e=function(t){e.safeConsole("log",t&&t.message||"error"),e.safeConsole("error",t),e.log(t)}}}(),y=function(){function e(){}return e.prototype.send=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i="error");try{var n=window.QSI,r=n.baseURL+"Ajax.php?action=ClientLog&"+(0,n.getClientVersionQueryString)(),o=window.QSI.reqID,a="";for(var s in o)o[s]&&(a+=s+" ");t&&e.stack&&(e=e.stack);var c=navigator.userAgent,l={LevelName:i,Message:"requestId: "+a+"\n currentURL: "+window.QSI.currentURL+"\n userAgent: "+c+"\n message: "+e};QSI.util.sendHttpRequest({type:"POST",url:r,header:{"Content-type":"application/x-www-form-urlencoded"},includeCookies:!1,data:QSI.util.buildQueryString(l)})}catch(e){window.QSI.isDebug&&console.log(e)}},e.prototype.sampledSend=function(e,t,i,n){Math.random()<=n/100&&this.send(e,t,i)},e}(),Q=function(){function e(){var e=this;this.cookieSize=0,document.cookie.split(";").forEach(function(t){var i=t.indexOf("QSI");~i&&(e.cookieSize+=t.length-i)})}return e.prototype.set=function(e,t,i,n,r){void 0===r&&(r={});var o=p.global.maxCookieSize,a=this.get(e),s=this.getCookieSize();a&&(s-=(e+"="+a).length);var c="";if(i){var l=new Date;l.setTime(l.getTime()+864e5*i),c="; expires="+l.toUTCString()}var d="";n?d="domain="+n:p.CookieDomain&&(d="domain="+p.CookieDomain);var u=e+"="+t,g=s+u.length;if(!(r.force||null!==o&&g<=o||null===o))throw new Error("Cannot exceed the specified maximum cookie size");r.erase?this.cookieSize=s:this.cookieSize=g;var I=""+u+c+"; path=/; "+d;"https:"===location.protocol&&(I+="; secure"),document.cookie=I},e.prototype.get=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){var r=i[n],o=r.indexOf(t);if(~o)return r.substring(o+t.length,r.length)}return null},e.prototype.erase=function(e,t){this.set(e,"",-1,t,{force:!0,erase:!0})},e.prototype.getCookieSize=function(){return this.cookieSize},e.prototype.areCookiesEnabled=function(){try{document.cookie="cookietest=1";var e=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(e){return!1}},e}(),D=function(){function e(){this.storageCache={},this.cookieName="QSI_DATA",this.refreshFromCookie()}return e.prototype.refreshFromCookie=function(){try{var e=window.QSI.cookie.get(this.cookieName);e&&(this.storageCache=JSON.parse(e))}catch(e){this.storageCache={}}},e.prototype.setToCookie=function(){try{window.QSI.cookie.set(this.cookieName,JSON.stringify(this.storageCache))}catch(e){}},e.prototype.setItem=function(e,t){this.storageCache[e]=t,this.setToCookie()},e.prototype.getItem=function(e){return this.storageCache[e]||null},e.prototype.removeItem=function(e){delete this.storageCache[e],this.setToCookie()},e.prototype.reload=function(){this.refreshFromCookie()},e.prototype.clear=function(){this.storageCache={},this.setToCookie()},e}(),b=new v,m=new d(b);window.QSI.dbg=b,window.QSI.LatencyLog=m,window.QSI.EventTracker=new c,window.QSI.cookie=new Q,window.QSI.CookieStorage=new D,window.QSI.Orchestrator=new h,window.QSI.Orchestrator.init(m,b),window.QSI.ClientLog=new y}]);}catch(e){if(typeof QSI!=='undefined'&&QSI.dbg&&QSI.dbg.e){QSI.dbg.e(e);}}